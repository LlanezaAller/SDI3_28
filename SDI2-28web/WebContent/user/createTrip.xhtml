<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/template-general.xhtml">


	<ui:define name="cuerpo">
		<h:form>
			<p:commandButton value="#{msgs.tripFillDefault}"
				actionListener="#{trip.fillDefault}" immediate="true" update="form-create-trip" />
		</h:form>
		<h:form id="form-create-trip">
			<p:wizard id="wizard" backLabel="#{msgs.back}"
				nextLabel="#{msgs.next}">
				<p:tab id="trip-details" title="#{msgs.tripDetails}">
					<p:panel header="#{msgs.tripDetailsLong}">
						<p:messages />
						<h:panelGrid columns="2" columnClasses="label, value">
							<p:outputLabel value="#{msgs.tripMaxSeats}: *" />
							<p:spinner value="#{trip.trip.availablePax}" required="true"
								label="#{msgs.tripMaxSeats}" min="0" />

							<p:outputLabel value="#{msgs.tripTotalCost}: *" />
							<p:spinner value="#{trip.trip.estimatedCost}" required="true"
								label="#{msgs.tripTotalCost}" min="0" suffix="â‚¬"
								stepFactor="0.01" />

							<p:outputLabel value="#{msgs.tripMaxDate}: *" />
							<p:calendar value="#{trip.trip.closingDate}" showOn="button"
								label="#{msgs.tripMaxDate}" required="true" />
							<p:outputLabel value="#{msgs.tripComments}:" />
							<p:inputTextarea label="#{msgs.tripComments}" rows="6"
								value="#{trip.trip.comments}" />
						</h:panelGrid>
					</p:panel>
				</p:tab>

				<p:tab id="trip-origin" title="#{msgs.tripOrigin}">
					<p:panel header="#{msgs.tripOrigin}">
						<p:messages />
						<h:panelGrid columns="2" columnClasses="label, value">
							<h:outputLabel value="#{msgs.tripCountry}:*" />
							<p:inputText value="#{trip.trip.departure.country}"
								required="true" />

							<h:outputLabel value="#{msgs.tripState}:*" />
							<p:inputText value="#{trip.trip.departure.state}" required="true" />

							<h:outputLabel value="#{msgs.tripCity}:*" />
							<p:autoComplete completeMethod="#{trip.completeCity}"
								value="#{trip.trip.departure.city}" required="true" />

							<h:outputLabel value="#{msgs.tripStreet}:*" />
							<p:inputText value="#{trip.trip.departure.address}"
								required="true" />

							<h:outputLabel value="#{msgs.tripLatitude}:" />
							<p:inputText value="#{trip.trip.departure.waypoint.lat}" />

							<h:outputLabel value="#{msgs.tripLongitude}:" />
							<p:inputText value="#{trip.trip.departure.waypoint.lon}" />

							<p:outputLabel value="#{msgs.tripDepartureDatetime}: *" />
							<p:calendar value="#{trip.trip.departureDate}" showOn="button"
								required="true" />
						</h:panelGrid>
					</p:panel>
				</p:tab>

				<p:tab id="trip-destination" title="#{msgs.tripDestination}">
					<p:panel header="#{msgs.tripDestination}">
						<p:messages />
						<h:panelGrid columns="2" columnClasses="label, value">
							<h:outputLabel value="#{msgs.tripCountry}:*" />
							<p:inputText value="#{trip.trip.destination.country}"
								required="true" />

							<h:outputLabel value="#{msgs.tripState}:*" />
							<p:inputText value="#{trip.trip.destination.state}"
								required="true" />

							<h:outputLabel value="#{msgs.tripCity}:*" />
							<p:autoComplete completeMethod="#{trip.completeCity}"
								value="#{trip.trip.destination.city}" required="true" />

							<h:outputLabel value="#{msgs.tripStreet}:*" />
							<p:inputText value="#{trip.trip.destination.address}"
								required="true" />

							<h:outputLabel value="#{msgs.tripLatitude}:" />
							<p:inputText value="#{trip.trip.destination.waypoint.lat}" />

							<h:outputLabel value="#{msgs.tripLongitude}:" />
							<p:inputText value="#{trip.trip.destination.waypoint.lon}" />

							<p:outputLabel value="#{msgs.tripArrivalDatetime}: *" />
							<p:calendar value="#{trip.trip.arrivalDate}" showOn="button"
								required="true" />

							<h:panelGroup />
							<p:commandButton value="#{msgs.createTripTitle}"
								action="#{trip.createTrip}" />

						</h:panelGrid>
					</p:panel>
				</p:tab>
			</p:wizard>
		</h:form>
	</ui:define>


</ui:composition>

